(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods_list-index"],{"0848":function(t,i,o){"use strict";(function(t){var e=o("4ea4");o("99af"),o("4160"),o("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e(o("2909"));o("96cf");var a=e(o("1da1")),r=e(o("8541")),n={data:function(){return{tabs:[{id:0,value:"综合排序",isActive:!0},{id:1,value:"销量",isActive:!1},{id:2,value:"价格",isActive:!1,isSort:!0},{id:3,value:"好评率",isActive:!1}],isListStyle:!0,goodsList:[],QueryParams:{query:"",categoryId:"",pagenum:1,pagesize:10},totalPages:1,scrollTop:0,isBackTop:!1,triggered:!1,loadMore:"loading"}},components:{Tabs:r.default},onLoad:function(t){this.QueryParams.categoryId=t.id||"",this.QueryParams.query=t.query||"",this.getGoodsList()},methods:{handleBackTop:function(){this.scrollTop=-1,this.$nextTick((function(){this.scrollTop=0}))},pageScroll:function(t){t.detail.scrollTop>90?this.isBackTop=!0:this.isBackTop=!1},refresherrefresh:function(){this.goodsList=[],this.QueryParams.pagenum=1,this.loadMore="loading",this.triggered||(this.triggered=!0,this.getGoodsList())},scrolltolower:function(){this.QueryParams.pagenum>=this.totalPages?this.loadMore="nomore":(this.QueryParams.pagenum++,this.getGoodsList())},getGoodsList:function(){var i=this;return(0,a.default)(regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,i.$request({url:"/shop/goods/list",data:i.QueryParams});case 2:if(e=o.sent,0===e.code){o.next=5;break}return o.abrupt("return",i.$util.msg(e.msg));case 5:i.goodsList=[].concat((0,s.default)(i.goodsList),(0,s.default)(e.data)),t.log(i.goodsList),i.triggered=!1;case 8:case"end":return o.stop()}}),o)})))()},showListStyle:function(t){this.isListStyle=t},showListSort:function(t){this.tabs.forEach((function(i,o){return i.isActive=o===t})),2!=t||(this.tabs[t].isSort=!this.tabs[t].isSort)}}};i.default=n}).call(this,o("5a52")["default"])},"17b0":function(t,i,o){"use strict";var e=o("d9d9"),s=o.n(e);s.a},"2cb8":function(t,i,o){var e=o("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.goods_list[data-v-5c607738]{height:calc(100vh - var(--window-top) - %?90?%)}.first_tab_list[data-v-5c607738]{padding:0 %?10?%}.first_tab_list .goods_item[data-v-5c607738]{display:-webkit-box;display:-webkit-flex;display:flex}.first_tab_list .goods_item .goods_img_wrap[data-v-5c607738]{width:%?180?%;height:%?180?%;overflow:hidden;border-radius:%?15?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.first_tab_list .goods_item .goods_img_wrap uni-image[data-v-5c607738]{width:100%;height:100%}.first_tab_list .goods_item .goods_info_wrap[data-v-5c607738]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;justify-content:space-around;padding-left:%?20?%}.first_tab_list .goods_item .goods_info_wrap .goods_name[data-v-5c607738]{font-size:%?32?%;color:#000;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1}.first_tab_list .goods_item .goods_info_wrap .goods_num[data-v-5c607738]{color:#8f8f8f}.first_tab_list .goods_item .goods_info_wrap .goods_price[data-v-5c607738]{color:#e93b3d;font-size:%?34?%;font-weight:600}.first_tab_list .goods_item .goods_info_wrap .goods_price .old_price[data-v-5c607738]{font-size:%?26?%;margin-left:%?10?%;text-decoration:line-through;color:#8f8f8f;font-weight:400}.first_tab_img[data-v-5c607738]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?10?%}.first_tab_img .goods_item_box[data-v-5c607738]{width:50%}.first_tab_img .goods_item_box .goods_item[data-v-5c607738]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.first_tab_img .goods_item_box .goods_item .goods_img_wrap[data-v-5c607738]{height:%?300?%;overflow:hidden;border-radius:%?8?%}.first_tab_img .goods_item_box .goods_item .goods_img_wrap uni-image[data-v-5c607738]{width:100%;height:100%}.first_tab_img .goods_item_box .goods_item .goods_info_wrap[data-v-5c607738]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.first_tab_img .goods_item_box .goods_item .goods_info_wrap .goods_name[data-v-5c607738]{margin-top:%?10?%;font-size:%?32?%;color:#000;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.first_tab_img .goods_item_box .goods_item .goods_info_wrap .goods_num[data-v-5c607738]{display:none}.first_tab_img .goods_item_box .goods_item .goods_info_wrap .goods_price[data-v-5c607738]{color:#e93b3d;font-size:%?34?%;font-weight:600}.first_tab_img .goods_item_box .goods_item .goods_info_wrap .goods_price .old_price[data-v-5c607738]{font-size:%?26?%;margin-left:%?10?%;text-decoration:line-through;color:#8f8f8f;font-weight:400}.BackTop[data-v-5c607738]{position:fixed;right:%?50?%;bottom:%?50?%;width:%?80?%;line-height:%?80?%;border-radius:50%;font-size:%?45?%;color:#a6a6a6;text-align:center;background-color:hsla(0,0%,52.9%,.2)}',""]),t.exports=i},"30b5":function(t,i,o){"use strict";o.d(i,"b",(function(){return s})),o.d(i,"c",(function(){return a})),o.d(i,"a",(function(){return e}));var e={uCard:o("59af").default,uLoadmore:o("f754").default,uIcon:o("09fc").default},s=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("v-uni-view",[o("Tabs",{attrs:{tabs:t.tabs},on:{handleTabsTitle:function(i){arguments[0]=i=t.$handleEvent(i),t.showListSort.apply(void 0,arguments)},handleTabsRight:function(i){arguments[0]=i=t.$handleEvent(i),t.showListStyle.apply(void 0,arguments)}}},[o("v-uni-scroll-view",{staticClass:"goods_list",attrs:{"scroll-y":"true","lower-threshold":30,"refresher-enabled":!0,"refresher-triggered":t.triggered,"scroll-top":t.scrollTop},on:{scroll:function(i){arguments[0]=i=t.$handleEvent(i),t.pageScroll.apply(void 0,arguments)},scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.scrolltolower.apply(void 0,arguments)},refresherrefresh:function(i){arguments[0]=i=t.$handleEvent(i),t.refresherrefresh.apply(void 0,arguments)}}},[t.tabs[0].isActive?o("v-uni-view",[o("v-uni-view",{class:t.isListStyle?"first_tab_list":"first_tab_img"},t._l(t.goodsList,(function(i,e){return o("v-uni-view",{key:e,staticClass:"goods_item_box"},[o("u-card",{staticClass:"card",attrs:{margin:"10rpx",padding:"20","show-foot":!1,"show-head":!1}},[o("v-uni-navigator",{staticClass:"goods_item",attrs:{slot:"body",url:"../goods_detail/index?id="+i.id},slot:"body"},[o("v-uni-view",{staticClass:"goods_img_wrap"},[o("v-uni-image",{attrs:{src:i.pic?i.pic:"https://ww1.sinaimg.cn/large/007rAy9hgy1g24by9t530j30i20i2glm.jpg"}})],1),o("v-uni-view",{staticClass:"goods_info_wrap"},[o("v-uni-view",{staticClass:"goods_name"},[t._v(t._s(i.name))]),o("v-uni-view",{staticClass:"goods_num"},[t._v("销量: "+t._s(i.numberSells))]),o("v-uni-view",{staticClass:"goods_price"},[t._v("￥"+t._s(i.minPrice)),o("v-uni-text",{staticClass:"old_price"},[t._v("￥"+t._s(i.originalPrice))])],1)],1)],1)],1)],1)})),1)],1):t.tabs[1].isActive?o("v-uni-view",[t._v("销量")]):t.tabs[2].isActive?o("v-uni-view",[t._v("价格")]):t.tabs[3].isActive?o("v-uni-view",[t._v("好评")]):t._e(),t.totalPages>1?o("u-loadmore",{attrs:{status:t.loadMore,"margin-bottom":"25"}}):t._e()],1),o("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],staticClass:"BackTop",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleBackTop.apply(void 0,arguments)}}},[o("u-icon",{attrs:{name:"arrow-upward"}})],1)],1)],1)},a=[]},7618:function(t,i,o){"use strict";o.r(i);var e=o("30b5"),s=o("faa7");for(var a in s)"default"!==a&&function(t){o.d(i,t,(function(){return s[t]}))}(a);o("17b0");var r,n=o("f0c5"),d=Object(n["a"])(s["default"],e["b"],e["c"],!1,null,"5c607738",null,!1,e["a"],r);i["default"]=d.exports},d9d9:function(t,i,o){var e=o("2cb8");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=o("4f06").default;s("b3fb2b30",e,!0,{sourceMap:!1,shadowMode:!1})},faa7:function(t,i,o){"use strict";o.r(i);var e=o("0848"),s=o.n(e);for(var a in e)"default"!==a&&function(t){o.d(i,t,(function(){return e[t]}))}(a);i["default"]=s.a}}]);